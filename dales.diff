diff -ruN '--exclude=build' dales.orig/src/CMakeLists.txt dales/src/CMakeLists.txt
--- dales.orig/src/CMakeLists.txt	2014-11-26 20:40:51.059434900 +0100
+++ dales/src/CMakeLists.txt	2014-11-27 12:27:37.987639586 +0100
@@ -3,3 +3,8 @@
 add_executable(${target_name} ${sourcefiles})
 target_link_libraries(${target_name} ${NETCDF_LIBS})
 install(TARGETS dales4 DESTINATION ${CMAKE_BINARY_DIR})
+
+add_library("lib${target_name}" SHARED ${sourcefiles})
+target_link_libraries("lib${target_name}" ${NETCDF_LIBS})
+set_target_properties("lib${target_name}" PROPERTIES OUTPUT_NAME ${target_name})
+install(TARGETS "lib${target_name}" LIBRARY DESTINATION lib)
